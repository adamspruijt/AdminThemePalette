var ProcessWireAdminTheme={init:function(){this.setupCloneButton(),this.setupButtonStates(),this.setupFieldFocus(),this.setupTooltips(),this.setupSearch(),this.setupDropdowns(),this.setupMobile(),$("body").hasClass("hasWireTabs")&&0==$("ul.WireTabs").size()&&$("body").removeClass("hasWireTabs"),$("#content").removeClass("fouc_fix"),this.browserCheck()},setupTooltips:function(){$("a.tooltip").tooltip({position:{my:"center bottom-20",at:"center top",using:function(t,e){$(this).css(t),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})},setupCloneButton:function(){var t=$("#content a:not([id]) button:not([id]), #content button.head_button_clone[id!=]");if(0!=t.size()&&!$.browser.msie){var e=$("<div id='head_button'></div>").appendTo("#headline .container").show();t.each(function(){var t=$(this),a=t.parent("a");a.size()?($button=t.parent("a").clone(),e.append($button)):t.is(".head_button_clone")&&($button=t.clone(),$button.attr("data-from_id",t.attr("id")).attr("id",t.attr("id")+"_copy"),a=$("<a></a>").attr("href","#"),$button.click(function(){return $("#"+$(this).attr("data-from_id")).click(),!1}),e.append(a.append($button)))})}},setupButtonStates:function(){$(".ui-button").hover(function(){$(this).removeClass("ui-state-default").addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover").addClass("ui-state-default")}).click(function(){$(this).removeClass("ui-state-default").addClass("ui-state-active").effect("highlight",{},500)}),$("a > button").click(function(){window.location=$(this).parent("a").attr("href")})},setupFieldFocus:function(){jQuery("#content input[type=text]:visible:enabled:first:not(.hasDatepicker)").each(function(){var t=$(this);t.val()||t.is(".no_focus")||t.focus()})},setupSearch:function(){$.widget("custom.adminsearchautocomplete",$.ui.autocomplete,{_renderMenu:function(t,e){var a=this,o="";$.each(e,function(e,s){s.type!=o&&(t.append("<li class='ui-widget-header'><a>"+s.type+"</a></li>"),o=s.type),t.attr("id","ProcessPageSearchAutocomplete"),a._renderItemData(t,s)})},_renderItemData:function(t,e){e.label==e.template&&(e.template=""),t.append("<li><a href='"+e.edit_url+"'>"+e.label+" <small>"+e.template+"</small></a></li>")}});var t=$("#ProcessPageSearchQuery"),e=$("#ProcessPageSearchStatus");t.adminsearchautocomplete({minLength:2,position:{my:"right top",at:"right bottom"},search:function(){e.html("<img src='"+config.urls.modules+"Process/ProcessPageList/images/loading.gif'>")},source:function(a,o){var s=t.parents("form").attr("action")+"for?get=template_label,title&include=all&admin_search="+a.term;$.getJSON(s,function(t){var a=t.matches.length;a<t.total?e.text(t.matches.length+"/"+t.total):e.text(a),o($.map(t.matches,function(t){return{label:t.title,value:t.title,page_id:t.id,template:t.template_label?t.template_label:"",edit_url:t.editUrl,type:t.type}}))})},select:function(){}}).blur(function(){e.text("")})},setupDropdowns:function(){$("ul.dropdown-menu").each(function(){var t=$(this).hide(),e=t.siblings(".dropdown-toggle");e.is("button")?e.button():t.css({"border-top-right-radius":0}),t.find("a").click(function(){return t.hide(),!0});var a=null;e.mouseenter(function(){var o=e.offset();if(null!=a&&(o.top!=a.top||o.left!=a.left)&&t.menu("destroy").removeClass("dropdown-ready"),!t.hasClass("dropdown-ready")){t.css("position","absolute"),t.prependTo($("body")).addClass("dropdown-ready").menu();var s={my:"right top",at:"right bottom",of:e},i=t.attr("data-my"),n=t.attr("data-at");i&&(s.my=i),n&&(s.at=n),t.position(s).css({"z-index":200,"margin-left":"1px"})}e.addClass("hover"),t.fadeIn("fast"),a=o}).mouseleave(function(){setTimeout(function(){t.is(":hover")||(t.hide(),e.removeClass("hover"))},250)}),t.mouseleave(function(){e.is(":hover")||(t.hide(),e.removeClass("hover"))})})},setupMobile:function(){var t=0,e=0,a=function(){var a=$("#topnav"),o=$("#masthead"),s=$("#masthead > .container"),i=$("#collapse-topnav-menu"),n=$("body"),r=a.height();if(r>50&&0==t)n.hasClass("collapse-topnav")||(n.addClass("collapse-topnav"),t=n.width(),console.log(t));else if(t>0){var l=n.width();l>t&&(n.removeClass("collapse-topnav"),s.removeClass("is-open"),t=0)}i.on("click",function(){console.log("click"),o.toggleClass("is-open")});var c=$(".WireTabs");c.size<1||c.each(function(){var t=$(this),a=t.height();if(a>65)n.hasClass("collapse-wiretabs")||(n.addClass("collapse-wiretabs"),e=n.width());else if(e>0){var o=n.width();n.hasClass("collapse-wiretabs")&&o>e&&(n.removeClass("collapse-wiretabs"),e=0)}})};a(),$(window).resize(a)},browserCheck:function(){$.browser.msie&&$.browser.version<8&&$("#content .container").html("<h2>ProcessWire does not support IE7 and below at this time. Please try again with a newer browser.</h2>").show()}};$(document).ready(function(){ProcessWireAdminTheme.init(),$("#notices a.notices-remove").click(function(){$("#notices").slideUp("fast",function(){$(this).remove()})})});